<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link type="text/css" rel="stylesheet" href="styles.css">
  <script type="text/javascript" src="config.js"></script>
</head>

<body>
  <h1 class="h">3. 索引和切片</h1>
  <p>这部分和列表非常像，但是更强大，尤其是对多维数组。</p>
  <dl>
    <dt>1. 一维数组（和列表几乎一模一样）</dt>
    <dd>
      <pre><code>arr = np.array([10, 20, 30, 40, 50])

print(arr[0])   # 获取第0个元素。输出：10
print(arr[-1])  # 获取最后一个元素。输出：50
print(arr[1:4]) # 切片，获取第1到第3个元素（索引4不包括）。输出：[20 30 40]
print(arr[::2]) # 从头到尾，步长为2。输出：[10 30 50]</code></pre>
    </dd>
    <dt>2. 二维数组（行和列）</dt>
    <dd>
      语法是 arr[行操作， 列操作]。
      <pre><code>arr2d = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])

# 取第0行（第一个维度是行）
print(arr2d[0])     # 输出：[1 2 3]

# 取第0行第1列的元素
print(arr2d[0, 1])  # 输出：2

# 取第1行之后的所有行，以及第1列之后的所有列
print(arr2d[1:, 1:])
# 输出：
# [[5 6]
#  [8 9]]

# 取所有行的第0列（这相当于取第一列）
print(arr2d[:, 0])  # 输出：[1 4 7]</code></pre>
    </dd>
    <dt>3. 花式切片（笑...）</dt>
    <dd>
      <dl>
        <dt>1. 一维数组的花式索引</dt>
        <dd>
          这是最直接的形式，使用一个整数数组来索引目标数组。
          <pre><code>import numpy as np

# 创建一个示例数组
arr = np.arange(10, 100, 10) # array([10, 20, 30, 40, 50, 60, 70, 80, 90])

# 使用整数列表进行索引
indices = [0, 2, 5, -1] # 选取第1个、第3个、第6个和最后1个元素
result = arr[indices]
print(result) # array([10, 30, 60, 90])</code></pre>
        </dd>
        <dt>2. 多维数组的花式索引</dt>
        <dd>
          花式索引在多维数组中尤其强大，因为可以在每个维度上独立指定索引序列。
          <pre><code>arr_2d = np.arange(25).reshape(5, 5)
print(arr_2d)
# [[ 0  1  2  3  4]
#  [ 5  6  7  8  9]
#  [10 11 12 13 14]
#  [15 16 17 18 19]
#  [20 21 22 23 24]]

# 选取第0行、第2行和第4行
row_indices = [0, 2, 4]
result = arr_2d[row_indices]
print(result)
# [[ 0  1  2  3  4]
#  [10 11 12 13 14]
#  [20 21 22 23 24]]
# 选取 (1, 1), (1, 3), (3, 1), (3, 3) 这四个点的数据
# 即：行索引为 [1, 1, 3, 3]，列索引为 [1, 3, 1, 3]
row_idx = np.array([1, 1, 3, 3])
col_idx = np.array([1, 3, 1, 3])

result = arr_2d[row_idx, col_idx]
print(result) # [ 6  8 16 18]
# 它相当于：
# arr_2d[1, 1], arr_2d[1, 3], arr_2d[3, 1], arr_2d[3, 3]
# 选取第2行和第4行，并且只选取这些行的第1到第3列（索引1:4）
result = arr_2d[[2, 4], 1:4]
print(result)
# [[11 12 13]
#  [21 22 23]]</code></pre>
        </dd>
      </dl>
    </dd>
  </dl>
</body>

</html>